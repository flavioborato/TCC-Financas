<!doctype html>
<html lang="pt-br">
<head th:replace="~{base/base :: head}">
		<!--  template  head  está na pasta base/base.html -->
</head>
 
<body>
  <div th:replace="~{base/base :: logo}">
				<!-- template  logo  está na pasta base/base.html - -->
  </div>
  
  	<div th:replace="~{base/base :: titulo('CADASTRO DE PESSOAS')}" >
				<!-- template  titulo  está na pasta base/base.html --->
	</div>
 

 
   	<main class="container">
		    
		<div class=" mb-5" >
			<form class=" mb-3" th:action="@{/pessoas/cadastrar}" th:object="${pessoacadastro}" method="POST">   
					<fieldset>
						<input type="number"  hidden th:field="*{idpessoa}" id="idpessoa"  class="form-control" placeholder="" />
					</fieldset> 
					
					<fieldset>
						<label for="nome" class="form-label">Nome</label>
						<input type="text" th:field="*{nome}" id="nome"  class="form-control" placeholder="DIGITE O NOME" />
					</fieldset>
					
					<fieldset>
						<label for="cpf" class="form-label">CPF</label>
						<input type="number"  th:field="*{cpf}"  id="cpf" class="form-control" placeholder="DIGITE O CPF" />
					</fieldset>

					<fieldset>
						<label for="nivel" class="form-label">Nivel</label>
						<input type="number" min="1" max="3"  th:field="*{nivel}" id="nivel" class="form-control" placeholder="DIGITE O NIVEL" />
					</fieldset>
					
					<fieldset>
						<input type="number" hidden th:field="*{senha.idsenha}" id="idsenha"  class="form-control" placeholder="" />
					</fieldset>
					 
					<fieldset>
						<label for="senha" class="form-label">Senha</label>
						<input type="password" th:field="*{senha.senha}" id=""senha"" class="form-control" placeholder="DIGITE A SENHA" />
					</fieldset> 
					
					<br/>
					
					<button type="submit" class="btn btn-success">Salvar</button>
					<a class="btn btn-secondary" href="/pessoas" role="button">Cancelar</a>	
				</form>  
	</div>			    
		    
 	<div>		    
	    <table class="table table-striped table-hover">
		    <thead>
		        <tr>
		            <th> Nome </th>
		            <th> Nivel </th>
		            <th> CPF </th>
		            <th> Id </th>
		            <th colspan="2"> Ações </th>
		        </tr>
		    </thead>
		    <tbody>
		        <tr th:each="pessoa : ${pessoas}">
		        	<td><span th:text="${pessoa.nome}" > Nome</span> </td>
		            <td><span th:text="${pessoa.nivel}" > Nivel </span></td>
		            <td><span th:text="${pessoa.cpf}" > CPF </span></td>
		            <td><span th:text="${pessoa.idpessoa}" > Id </span></td>
		            <td>
		            	<a class="btn btn-success mb-3 p-1" th:href="@{/pessoas/{id}(id=${pessoa.idpessoa})}">Editar</a>	
		            	<form method="POST" th:action="@{/pessoas/{id}/excluir(id=${pessoa.idpessoa})}">
	            			<button type="submit" class="btn btn-danger p-1"> Excluir </button>
	            		</form>
	            	</td>
		        </tr>
		    </tbody>
		</table>
	</div>    
	

	</main> 



    <div th:replace="~{base/base :: rodape}" >
				<!-- template  rodapé  está na pasta base/base.html - -->
	</div>
</body>
</html>
